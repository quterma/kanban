{"version":3,"sources":["images/ava.svg","images/arrow.svg","Components/Shared/Button.jsx","utils/outsideDetector.js","Components/Shared/DropdownMenu.jsx","Components/Shared/UserMenu.jsx","redux/kanbanSlice.js","utils/useWindowSize.js","Components/Header/Header.jsx","utils/reorder.js","Components/Main/Column/Task.jsx","Components/Main/Column/ColumnHeader.jsx","Components/Main/Column/ColumnFooter.jsx","Components/Main/Column/Column.jsx","Components/Main/Main.jsx","Components/Main/MainDragDropContext.jsx","Components/Footer/Footer.jsx","styles/px2vw.js","styles/global.js","App.js","redux/store.js","utils/localStorage.js","index.js"],"names":["module","exports","AddItem","styled","button","props","light","disabled","dark","top","Icon","i","Button","onHandleClick","name","clear","onClick","className","OutsideDetector","ref","onHandleOutsideClicks","wrapperRef","useRef","useEffect","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","children","Container","ul","right","Unit","li","DropdownMenu","onSubmit","onHandleLeave","mappingData","currentTarget","InnerList","map","el","key","id","content","onMouseLeave","Wrapper","div","Frame","Avatar","img","Arrow","open","UserMenu","useState","isDropdown","setIsDropdown","hideDropdown","src","ava","alt","arrow","data","console","log","kanbanSlice","createSlice","initialState","steps","tasks","columns","title","taskIds","columnOrder","reducers","setHomeIndex","state","action","homeIndex","payload","setColumnOrder","createColumn","v4","splice","setColumn","Object","keys","value","values","deleteColumn","columnId","indexOf","forEach","task","push","setColumnTitle","newTitle","createTask","created","firstColumnId","deleteTask","taskId","taskIndex","findIndex","setTaskTitle","createStep","isCompleted","updateStep","deleteStep","stepId","actions","selectHomeIndex","kanban","selectColumnOrder","selectColumns","useWindowSize","size","setSize","useLayoutEffect","updateSize","window","innerWidth","innerHeight","header","width","Title","h2","Right","SmallContainer","Header","dispatch","useDispatch","reorder","sourceIndex","destinationIndex","movedElementId","start","finish","newStart","newFinish","isDragging","input","h3","isDraggingOver","main","isOverflow","MainDragDropContext","useSelector","useCallback","source","droppableId","result","destination","draggableId","type","droppableIs","index","startTasksIds","finishTaskIds","newTaskIds","newColumnOrder","footer","InfoWrapper","Info","date","Date","toISOString","split","replace","Footer","activeCount","length","finishedCount","px2vw","Global","createGlobalStyle","App","persistedState","serializedState","localStorage","getItem","JSON","parse","err","loadState","store","configureStore","reducer","kanbanReducer","preloadedState","subscribe","throttle","stringify","setItem","error","saveState","getState","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8d9f0db2.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/ava.3f67ae5d.svg\";","module.exports = __webpack_public_path__ + \"static/media/arrow.95a194e0.svg\";","import React from \"react\";\r\nimport styled from 'styled-components';\r\n\r\n// styling\r\nconst AddItem = styled.button`\r\n  background-color: inherit;\r\n  border-radius: 5px;\r\n  border: none;\r\n  outline: none;\r\n  font-size: 1.2rem;\r\n  transition: 0.2s ease;\r\n  color: ${props => props.light ? '#FFFFFF' : '#5E6C84'};\r\n  padding: 6px;\r\n  &:hover {\r\n    background-color: ${props => props.disabled ? 'inherit' : props.dark ? '#EBECF0' : '#FFFFFF'};\r\n    cursor: ${props => props.disabled ? 'inherit' : 'pointer'};\r\n    color: #5E6C84;\r\n  };\r\n  margin: 7px 11px;\r\n  margin-top: ${props => props.top && props.top};\r\n`;\r\nconst Icon = styled.i`\r\n  margin-right: 4px;\r\n`;\r\n\r\nconst Button = ({ onHandleClick, disabled, name, light, clear, top, dark }) => {\r\n  return (\r\n    <AddItem onClick={onHandleClick} disabled={disabled} light={light} top={top} dark={dark}>\r\n      {!clear && <Icon className=\"fas fa-plus\" light={light} ></Icon>}\r\n      {name}\r\n    </AddItem>\r\n  )\r\n}\r\n\r\nexport default Button","import React, { useRef, useEffect } from \"react\";\r\n// import PropTypes from \"prop-types\";\r\n\r\n// Hook that call onHandleOutsideClicks outside of the passed ref\r\nfunction useOutsideDetector(ref, onHandleOutsideClicks) {\r\n\tuseEffect(() => {\r\n\t\t//use onHandleOutsideClicks if clicked on outside of element\r\n\t\tfunction handleClickOutside(event) {\r\n\t\t\tif (ref.current && !ref.current.contains(event.target)) {\r\n\t\t\t\tonHandleOutsideClicks();\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Bind the event listener\r\n\t\tdocument.addEventListener(\"mousedown\", handleClickOutside);\r\n\t\treturn () => {\r\n\t\t\t// Unbind the event listener on clean up\r\n\t\t\tdocument.removeEventListener(\"mousedown\", handleClickOutside);\r\n\t\t};\r\n\t}, [ref, onHandleOutsideClicks]);\r\n}\r\n\r\n//Component that alerts if you click outside of it\r\nfunction OutsideDetector(props) {\r\n\tconst wrapperRef = useRef(null);\r\n\tuseOutsideDetector(wrapperRef, props.onHandleOutsideClicks);\r\n\treturn <div ref={wrapperRef}>{props.children}</div>;\r\n}\r\n\r\n// OutsideDetector.propTypes = {\r\n// \tchildren: PropTypes.element.isRequired,\r\n// };\r\n\r\nexport default OutsideDetector;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport OutsideDetector from './../../utils/outsideDetector';\r\n\r\nconst Container = styled.ul`\r\n  position: absolute;\r\n  background-color: #FFFFFF;\r\n  min-width: 258px;\r\n  min-height: 70px;\r\n  max-height: 170px;\r\n  right: ${props => props.right};\r\n  transform: translateX(${props => props.right});\r\n  top: ${props => props.top};\r\n\r\n  border-radius: 5px;\r\n  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);\r\n  z-index: 1;\r\n  padding: 5px;\r\n  overflow-y: auto;\r\n`;\r\nconst Unit = styled.li`\r\n  text-align: left;\r\n  font-size: 1.2rem;\r\n  line-height: 1.4rem;\r\n  padding: 8px;\r\n  display: block;\r\n  cursor: pointer;\r\n  border-radius: 5px;\r\n\r\n  &:hover { background-color: #DEDEDE }\r\n`;\r\n\r\nconst DropdownMenu = ({ onSubmit, onHandleLeave, mappingData, right, top }) => {\r\n\r\n  const onHandleClick = (event) => onSubmit(event.currentTarget);\r\n\r\n  const InnerList = mappingData.map(el => <Unit key={el.id} id={el.id} onClick={onHandleClick}>{el.content}</Unit>);\r\n  return (\r\n    <Container onMouseLeave={onHandleLeave} right={right} top={top}>\r\n      <OutsideDetector onHandleOutsideClicks={onHandleLeave}>\r\n        {InnerList}\r\n      </OutsideDetector>\r\n      </Container>\r\n  )\r\n}\r\n\r\nexport default DropdownMenu;\r\n","import React, { useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport ava from './../../images/ava.svg';\r\nimport arrow from './../../images/arrow.svg';\r\nimport DropdownMenu from './DropdownMenu';\r\n\r\nconst Wrapper = styled.div`\r\n  margin-left: 20px;\r\n  display: inline-block;\r\n`;\r\nconst Container = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  cursor: pointer;\r\n  transition: 0.2s ease;\r\n  &:hover { opacity: 0.8 }\r\n`;\r\nconst Frame = styled.div`\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  border: 1px solid #FFFFFF;\r\n  background-color: #FFFFFF;\r\n  position: relative;\r\n`;\r\nconst Avatar = styled.img`\r\n  height: 33px;\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n`;\r\nconst Arrow = styled.img`\r\n  height: 8px;\r\n  transform: ${props => (props.open ? 'matrix(1, 0, 0, -1, 0, 0)' : 'unset')};\r\n  margin-left: 8px;\r\n`;\r\n\r\nconst UserMenu = () => {\r\n\r\n  // for switching button to dropdown menu\r\n  const [isDropdown, setIsDropdown] = useState(false);\r\n  const showDropdown = () => setIsDropdown(true);\r\n  const hideDropdown = () => setIsDropdown(false);\r\n\r\n  // ========================   Заглушки   ================\r\n  const dropDownItems = [{ id: 'profile', content: 'Profile' }, { id: 'logout', content: 'Log Out' }];\r\n  const onDropdownSubmit = data => {\r\n    console.log(`Hey! This is currently unavailable. You pressed \"${data.id}\" item. Good for you! :)`);\r\n    hideDropdown();\r\n  }\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Container onClick={showDropdown}>\r\n        <Frame>\r\n          <Avatar src={ava} alt='avatar'/>\r\n        </Frame>\r\n        <Arrow src={arrow} alt='arrow' open={isDropdown}/>\r\n      </Container>\r\n      {isDropdown && <DropdownMenu mappingData={dropDownItems} onSubmit={onDropdownSubmit} onHandleLeave={hideDropdown} right='1%' top='50px'/>}\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nexport default UserMenu\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\nimport { v4 } from \"node-uuid\";\r\n\r\nexport const kanbanSlice = createSlice({\r\n\tname: \"kanban\",\r\n\tinitialState: {\r\n\t\tsteps: {\r\n\t\t\t// 'stepId': {id: stepId (string), content: string, isCompleted: boolean}\r\n\t\t},\r\n\t\ttasks: {\r\n\t\t\t\"task-1\": { id: \"task-1\", content: \"One\", steps: [] },\r\n\t\t\t\"task-2\": { id: \"task-2\", content: \"Two\", steps: [] },\r\n\t\t\t\"task-3\": { id: \"task-3\", content: \"Three\", steps: [] },\r\n\t\t\t\"task-4\": { id: \"task-4\", content: \"Four\", steps: [] },\r\n\t\t},\r\n\t\tcolumns: {\r\n\t\t\t\"column-1\": {\r\n\t\t\t\tid: \"column-1\",\r\n\t\t\t\ttitle: \"Backlog\",\r\n\t\t\t\t// this property shows an affiliation to the column and an order in it\r\n\t\t\t\ttaskIds: [\"task-1\", \"task-2\", \"task-3\", \"task-4\"],\r\n\t\t\t},\r\n\t\t\t\"column-2\": {\r\n\t\t\t\tid: \"column-2\",\r\n\t\t\t\ttitle: \"Ready\",\r\n\t\t\t\t// this property shows an affiliation to the column and an order in it\r\n\t\t\t\ttaskIds: [],\r\n\t\t\t},\r\n\t\t\t\"column-3\": {\r\n\t\t\t\tid: \"column-3\",\r\n\t\t\t\ttitle: \"In Progress\",\r\n\t\t\t\t// this property shows an affiliation to the column and an order in it\r\n\t\t\t\ttaskIds: [],\r\n\t\t\t},\r\n\t\t\t\"column-4\": {\r\n\t\t\t\tid: \"column-4\",\r\n\t\t\t\ttitle: \"Finished\",\r\n\t\t\t\t// this property shows an affiliation to the column and an order in it\r\n\t\t\t\ttaskIds: [],\r\n\t\t\t},\r\n\t\t},\r\n\t\t// Facilitate reordering of the columns\r\n\t\tcolumnOrder: [\"column-1\", \"column-2\", \"column-3\", \"column-4\"],\r\n\t},\r\n\treducers: {\r\n\t\tsetHomeIndex: (state, action) => {\r\n\t\t\tstate.homeIndex = action.payload;\r\n\t\t},\r\n\t\tsetColumnOrder: (state, action) => {\r\n\t\t\tstate.columnOrder = action.payload;\r\n\t\t},\r\n\r\n\t\tcreateColumn: state => {\r\n\t\t\tconst id = v4();\r\n\t\t\tstate.columns[id] = { id, title: \"\", taskIds: [] };\r\n\t\t\tstate.columnOrder.splice(1, 0, id);\r\n\t\t},\r\n\t\tsetColumn: (state, action) => {\r\n\t\t\tconst id = Object.keys(action.payload)[0];\r\n\t\t\tconst value = Object.values(action.payload)[0];\r\n\t\t\tstate.columns[id].taskIds = value;\r\n\t\t},\r\n\t\tdeleteColumn: (state, action) => {\r\n\t\t\tconst columnId = action.payload;\r\n\t\t\tconst taskIds = state.columns[columnId].taskIds;\r\n\t\t\tif (state.columnOrder.indexOf(columnId) === 0) {\r\n\t\t\t\ttaskIds.forEach(task => delete state.tasks[task]);\r\n\t\t\t} else {\r\n\t\t\t\tstate.columns[columnId].taskIds.forEach(task => state.columns[state.columnOrder[0]].taskIds.push(task));\r\n\t\t\t}\r\n\t\t\tdelete state.columns[columnId];\r\n\t\t\tstate.columnOrder.splice(state.columnOrder.indexOf(columnId), 1);\r\n\t\t},\r\n\t\tsetColumnTitle: (state, action) => {\r\n\t\t\t// expected { columnId, newTitle }\r\n\t\t\tconst { columnId, newTitle } = action.payload;\r\n\t\t\tstate.columns[columnId].title = newTitle;\r\n\t\t},\r\n\r\n\t\tcreateTask: (state, action) => {\r\n\t\t\tconst created = action.payload;\r\n\t\t\tconst id = v4();\r\n\t\t\tstate.tasks[id] = { id, content: \"\", steps: [], created };\r\n\t\t\tconst firstColumnId = state.columnOrder[0];\r\n\t\t\tstate.columns[firstColumnId].taskIds.push(id);\r\n\t\t},\r\n\t\tdeleteTask: (state, action) => {\r\n\t\t\t// expected taskId\r\n\t\t\tconst taskId = action.payload;\r\n\t\t\tfor (let columnId in state.columns) {\r\n\t\t\t\tconst taskIndex = state.columns[columnId].taskIds.findIndex(el => el === taskId);\r\n\t\t\t\tif (taskIndex >= 0) state.columns[columnId].taskIds.splice(taskIndex, 1);\r\n\t\t\t}\r\n\t\t\tdelete state.tasks[taskId];\r\n\t\t},\r\n\t\tsetTaskTitle: (state, action) => {\r\n\t\t\t// expected { id, newTitle }\r\n\t\t\tconst { id, newTitle } = action.payload;\r\n\t\t\tstate.tasks[id].content = newTitle;\r\n\t\t},\r\n\r\n\t\tcreateStep: (state, action) => {\r\n\t\t\t// expected taskid - string\r\n\t\t\tconst taskId = action.payload;\r\n\t\t\tconst id = v4();\r\n\t\t\tstate.steps[id] = { id, content: \"\", isCompleted: false };\r\n\t\t\tstate.tasks[taskId].steps.push(id);\r\n\t\t},\r\n\t\tupdateStep: (state, action) => {\r\n\t\t\t// expected step - {id, content */or/* isCompleted}\r\n\t\t\tconst id = action.payload.id;\r\n\t\t\tstate.steps[id] = { ...state.steps[id], ...action.payload };\r\n\t\t},\r\n\t\tdeleteStep: (state, action) => {\r\n\t\t\t// expected { taskId, stepId }\r\n\t\t\tconst { taskId, stepId } = action.payload;\r\n\t\t\tstate.tasks[taskId].steps.splice(state.tasks[taskId].steps.indexOf(stepId), 1);\r\n\t\t\tdelete state.steps[stepId];\r\n\t\t},\r\n\t},\r\n});\r\n\r\nexport const {\r\n\tsetHomeIndex,\r\n\tsetColumnOrder,\r\n\tsetColumn,\r\n\tcreateTask,\r\n\tcreateColumn,\r\n\tdeleteColumn,\r\n\tsetColumnTitle,\r\n\tsetTaskTitle,\r\n\tcreateStep,\r\n\tupdateStep,\r\n\tdeleteStep,\r\n\tdeleteTask,\r\n} = kanbanSlice.actions;\r\n\r\n// Selectors\r\nexport const selectHomeIndex = state => state.kanban.homeIndex && Object.values(state.kanban.homeIndex)[0];\r\nexport const selectColumnOrder = state => state.kanban.columnOrder;\r\nexport const selectColumns = state => state.kanban.columns;\r\nexport const selectTasks = state => state.kanban.tasks;\r\nexport const selectSteps = state => state.kanban.steps;\r\n\r\nexport default kanbanSlice.reducer;\r\n","import { useLayoutEffect, useState } from \"react\";\r\n\r\nexport const useWindowSize = () => {\r\n\tconst [size, setSize] = useState([0, 0]);\r\n\tuseLayoutEffect(() => {\r\n\t\tconst updateSize = () => setSize([window.innerWidth, window.innerHeight]);\r\n\t\twindow.addEventListener(\"resize\", updateSize);\r\n\t\tupdateSize();\r\n\t\treturn () => window.removeEventListener(\"resize\", updateSize);\r\n\t}, []);\r\n\treturn size;\r\n};\r\n","import React from 'react'\r\nimport { useDispatch } from 'react-redux';\r\n// import { withRouter, useLocation } from \"react-router-dom\";\r\nimport styled from 'styled-components';\r\nimport Button from './../Shared/Button';\r\nimport UserMenu from './../Shared/UserMenu';\r\nimport { createColumn } from './../../redux/kanbanSlice';\r\nimport { useWindowSize } from '../../utils/useWindowSize';\r\n\r\nconst Container = styled.header`\r\n  background: #0067A3;\r\n  display: flex;\r\n  justify-content: ${props => props.width > 600 ? 'space-between' : 'flex-end'};\r\n  align-items: center;\r\n  padding: 5px 30px;\r\n`;\r\nconst Title = styled.h2`\r\n  font-size: 1.8rem;\r\n  color: #FFFFFF;\r\n`;\r\nconst Right = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`;\r\nconst SmallContainer = styled.div`\r\n  background: #0079BF;\r\n  width: 100%;\r\n  display: block;\r\n  text-align: right;\r\n  padding: 10px 20px;\r\n`;\r\n\r\nfunction Header() {\r\n  const width = useWindowSize()[0];\r\n  \r\n  // const isEditor = useLocation().pathname.startsWith('/editor');\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const createNewColumn = () => dispatch(createColumn());\r\n\r\n  if (width < 480) {\r\n    return (\r\n      <SmallContainer>\r\n        <UserMenu />\r\n      </SmallContainer>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Container width={width}>\r\n      {width > 600 && <Title>Awesome Kanban Board</Title>}\r\n      <Right>\r\n\r\n        <Button\r\n          onHandleClick={createNewColumn}\r\n          name='Create new list'\r\n          light\r\n        />\r\n        \r\n        <UserMenu />\r\n      </Right>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Header;\r\n","// this function reorder draggable ids in droppable containers\r\nexport const reorder = (sourceIndex, destinationIndex, movedElementId, start, finish) => {\r\n\t// 'splice out' movedElement with source index\r\n\tconst newStart = [...start];\r\n\tnewStart.splice(sourceIndex, 1);\r\n\t// 'splice in' movedElement on a 'place' with destination index\r\n\tconst newFinish = finish ? [...finish] : newStart;\r\n\tnewFinish.splice(destinationIndex, 0, movedElementId);\r\n\treturn [newStart, newFinish];\r\n};\r\n","import React, { useState } from 'react'\r\n// import { useHistory } from \"react-router-dom\";\r\nimport styled from 'styled-components';\r\nimport { Draggable } from 'react-beautiful-dnd'\r\nimport { useDispatch } from 'react-redux';\r\nimport { setTaskTitle } from './../../../redux/kanbanSlice';\r\n\r\nconst Container = styled.div`\r\n  background: #FFFFFF;\r\n  border-radius: 5px;\r\n  width: 100%;\r\n  padding: 0 8px;\r\n  height: 2.5rem;\r\n  margin: 0 auto 15px auto;\r\n  background-color: ${props => props.isDragging ? '#9ae455' : 'white'};\r\n  outline: none;\r\n`;\r\nconst Input = styled.input`\r\n  width: 100%;\r\n  border: none;\r\n  line-height: 2.4rem;\r\n  font-size: 1.1rem;\r\n`;\r\nconst Title = styled.h3`\r\n  line-height: 2.5rem;\r\n  font-size: 1.1rem;\r\n`;\r\n\r\nconst Task = ({ task, index }) => {\r\n  const dispatch = useDispatch();\r\n  // editMode state for setting new column title\r\n  const [editMode, setEditMode] = useState(task.content === '');\r\n  // title state for title inpute onChange subscribe and setting value\r\n  const [newTitle, setNewTitle] = useState(task.content);\r\n  const onHandleChange = (e) => setNewTitle(e.currentTarget.value);\r\n  // get newTitle from local state and dispath in store\r\n  const updateTaskTitle = () => {\r\n    dispatch(setTaskTitle({ id: task.id, newTitle: newTitle ? newTitle : 'New Task' }));\r\n    setEditMode(false);\r\n  }\r\n\r\n  // let history = useHistory();\r\n  // const handleDoubleClick = () => history.push(`/editor/${task.id}`);\r\n\r\n  return (\r\n    // Draggable element\r\n    <Draggable draggableId={task.id} index={index} >\r\n      {(provided, snapshot) => (\r\n        <Container\r\n          {...provided.draggableProps}\r\n          {...provided.dragHandleProps}\r\n          ref={provided.innerRef}\r\n          isDragging={snapshot.isDragging}\r\n        >\r\n        { editMode ?\r\n          <Input\r\n            autoFocus onBlur={updateTaskTitle}\r\n            onChange={onHandleChange}\r\n            value={newTitle}\r\n            name={task.content}\r\n          />\r\n            : <Title onDoubleClick={onHandleChange}>{task.content}</Title>\r\n        }\r\n        </Container>\r\n      )}\r\n    </Draggable>\r\n  )\r\n}\r\n\r\nexport default Task;","import React, { useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport DropdownMenu from './../../Shared/DropdownMenu';\r\nimport Button from './../../Shared/Button';\r\nimport { useDispatch } from 'react-redux';\r\nimport { deleteColumn, setColumnTitle } from './../../../redux/kanbanSlice';\r\n\r\nconst Title = styled.h3`\r\n  padding: 12px;\r\n  font-size: 1.2rem;\r\n`;\r\nconst RelativeContainer = styled.div`\r\n  position: relative;\r\n`;\r\nconst Input = styled.input`\r\n  margin-left: 12px;\r\n  font-size: 1.2rem;\r\n  width: 160px;\r\n  line-height: 21px;\r\n  border: none;\r\n`;\r\n\r\nconst ColumnHeader = ({ title, thisColId }) => {\r\n  const dispatch = useDispatch();\r\n  // editMode state for setting new column title\r\n  const [editMode, setEditMode] = useState(title === '');\r\n  const activateEditMode = () => setEditMode(true);\r\n  // title state for title inpute onChange subscribe and setting value\r\n  const [newTitle, setNewTitle] = useState(title);\r\n  const onHandleChange = (e) => setNewTitle(e.currentTarget.value.substring(0, 18))\r\n  // get newTitle from local state and dispath in store\r\n  const updateColumnTitle = () => {\r\n    dispatch(setColumnTitle({ newTitle: newTitle ? newTitle : 'New Column', columnId: thisColId }));\r\n    setEditMode(false);\r\n  }\r\n  // data for dropdownMenu mapping\r\n  const mappingData = [{ id: 'delete column', content: 'Delete Column' }, { id: 'rename column', content: 'Rename column' }];\r\n  // state for toggling Button('...') | Dropdown('delete column', 'rename column')\r\n  const [isDropdown, setIsDropdown] = useState(false);\r\n  //get data from dropdownMenu and choose action\r\n  const execDropdownCommand = data => {\r\n    switch (data.id) {\r\n      case 'delete column':\r\n        dispatch(deleteColumn(thisColId));\r\n        setIsDropdown(false);\r\n        break;\r\n      case 'rename column':\r\n        activateEditMode();\r\n        setIsDropdown(false);\r\n        break;\r\n      default: return;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {editMode ?\r\n        <Input autoFocus onBlur={updateColumnTitle} onChange={onHandleChange} value={newTitle} name={title}/>\r\n        : <Title onDoubleClick={activateEditMode}>{title}</Title>}\r\n      {isDropdown ?\r\n        <RelativeContainer>\r\n          <DropdownMenu\r\n            mappingData={mappingData}\r\n            onSubmit={execDropdownCommand}\r\n            onHandleLeave={() => setIsDropdown(false)}\r\n            right='-4%' top='15px' />\r\n        </RelativeContainer>\r\n        : <Button\r\n          onHandleClick={() => setIsDropdown(true)}\r\n          name={' ... '}\r\n          clear\r\n        />\r\n      }\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ColumnHeader\r\n","import React, { useEffect, useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport DropdownMenu from './../../Shared/DropdownMenu';\r\nimport Button from './../../Shared/Button';\r\nimport { reorder } from '../../../utils/reorder';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { createTask, selectTasks, setColumn } from '../../../redux/kanbanSlice';\r\n\r\nconst Container = styled.div`\r\n  position: relative;\r\n  height: 48px;\r\n`;\r\n\r\nconst ColumnFooter = ({ thisColumn, prevColumn, index }) => {\r\n  const dispatch = useDispatch();\r\n  const tasks = useSelector(selectTasks);\r\n\r\n  // local state and for disabling add task button\r\n  const isPreviousEmpty = index > 0 && prevColumn.taskIds.length < 1;\r\n  const [isDisabled, setIsDisabled] = useState(isPreviousEmpty);\r\n  useEffect(() => { setIsDisabled(isPreviousEmpty) }, [isPreviousEmpty]);\r\n\r\n  // local state for toggling button/dropdown menu\r\n  const [isDropdown, setIsDropdown] = useState(false);\r\n  const showDropDown = () => setIsDropdown(true)\r\n  const showButton = () => setIsDropdown(false)\r\n\r\n  // create new task in first column\r\n  const createNewTask = () => {\r\n    const created = new Date().toISOString().split('.')[0].replace(/-/g, '.').replace(/t/gi, ' at ');\r\n    dispatch(createTask(created));\r\n  }\r\n\r\n  // add task from previous column\r\n  const addTask = data => {\r\n    const id = data.id;\r\n    const start = prevColumn;\r\n    const finish = thisColumn;\r\n    const sourceIndex = prevColumn.taskIds.indexOf(id)\r\n    const destinationIndex = thisColumn.taskIds.length;\r\n    const [startTasksIds, finishTaskIds] = reorder(sourceIndex, destinationIndex, id, start.taskIds, finish.taskIds);\r\n    dispatch(setColumn({ [start.id]: startTasksIds }));\r\n    dispatch(setColumn({ [finish.id]: finishTaskIds }));\r\n    showButton();\r\n  };\r\n\r\n  // mapping previous column tasks for dropdown menu\r\n  const mappingData = index > 0 && prevColumn.taskIds.map(taskId => tasks[taskId]);\r\n\r\n  return (\r\n    <Container>\r\n      { isDropdown ?\r\n        <DropdownMenu mappingData={mappingData} onSubmit={addTask} onHandleLeave={showButton} right='50%' top='-120px' />\r\n        : <Button\r\n          onHandleClick={index === 0 ? createNewTask : showDropDown}\r\n          disabled={isDisabled}\r\n          name={index === 0 ? 'Create new task' : 'Add task'}\r\n        />\r\n      }\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default ColumnFooter;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { Droppable, Draggable } from 'react-beautiful-dnd';\r\nimport ColumnInnerList from './ColumnInnerList';\r\nimport ColumnHeader from './ColumnHeader';\r\nimport ColumnFooter from './ColumnFooter';\r\n\r\nconst Container = styled.div`\r\n  border: 1px solid lightgrey;\r\n  min-width: 282px;\r\n  max-height: 78vh;\r\n  background-color: #EBECF0;\r\n  display: flex;\r\n  flex-direction: column;\r\n  border-radius: 10px;\r\n  text-align: left;\r\n  margin: 20px;\r\n`;\r\nconst TaskList = styled.div`\r\n  padding: 12px;\r\n  align-self: stretch;\r\n  flex-grow: 1;\r\n  min-height: 140px;\r\n  max-width: 280px;\r\n  transition: background-color 0.1s ease;\r\n  background-color: ${props => props.isDraggingOver ? '#add8e6c4' : 'inherit'};\r\n  overflow-y: auto;\r\n`;\r\nconst ColumnHeaderContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  height: 44px;\r\n  width: 100%;\r\n  outline: none;\r\n`;\r\n\r\nconst Column = ({ column, tasks, index, isDropDisabled, columns, columnOrder }) => {\r\n  const prevColumn = columns[columnOrder[index - 1]];\r\n  const thisColumn = columns[columnOrder[index]];\r\n\r\n  return (\r\n    <Draggable draggableId={column.id} index={index}>\r\n      {(provided) => (\r\n        <Container ref={provided.innerRef} {...provided.draggableProps}>\r\n          <ColumnHeaderContainer {...provided.dragHandleProps}>\r\n            <ColumnHeader title={column.title} thisColId={columnOrder[index]} />\r\n          </ColumnHeaderContainer>\r\n          <Droppable droppableId={column.id} isDropDisabled={isDropDisabled} type='task' top='100px'>\r\n            {(provided, snapshot) => (\r\n              <TaskList ref={provided.innerRef} {...provided.droppableProps} isDraggingOver={snapshot.isDraggingOver}>\r\n                <ColumnInnerList tasks={tasks} />\r\n                {provided.placeholder}\r\n              </TaskList>\r\n            )}\r\n          </Droppable>\r\n          <ColumnFooter thisColumn={thisColumn} prevColumn={prevColumn} index={index}/>\r\n        </Container>\r\n      )}\r\n      </Draggable>\r\n  )\r\n}\r\n\r\nexport default Column","import React, { useEffect, useRef, useState } from 'react'\r\nimport { useDispatch } from 'react-redux';\r\nimport { Droppable } from \"react-beautiful-dnd\";\r\nimport styled from \"styled-components\";\r\nimport { createColumn } from './../../redux/kanbanSlice';\r\nimport Button from './../Shared/Button';\r\nimport { useWindowSize } from \"./../../utils/useWindowSize\";\r\nimport ColumnMap from './Column/ColumnMap';\r\n\r\nconst Container = styled.main`\r\n  display: flex;\r\n  align-items: flex-start;\r\n  flex-wrap: ${props => props.width < 780 ? 'wrap' : 'nowrap'};\r\n  justify-content: ${props => props.isOverflow ? 'start' :'center'};\r\n  padding: 20px 0;\r\n`;\r\nconst Wrapper = styled.div`\r\n  overflow-x: auto;\r\n  background-color: #0079BF;\r\n  height: 100%;\r\n  text-align: center;\r\n`;\r\n\r\nconst Main = ({ columnOrder, columns, homeIndex }) => {\r\n  const width = useWindowSize()[0];\r\n\r\n  // check overflow for jc-center/start\r\n  const ref = useRef(null);\r\n  const [isOverflow, setIsOverflow] = useState(false);\r\n  useEffect(() => ref.current && setIsOverflow(ref.current.getBoundingClientRect().width < ref.current.scrollWidth),[width, columnOrder.length]);\r\n\r\n  const [isEmpty, setIsEmpty] = useState(columnOrder.length > 0);\r\n  useEffect(() => setIsEmpty(columnOrder.length > 0 ? false : true), [columnOrder]);\r\n\r\n  const dispatch = useDispatch();\r\n  // create new column (with index 1)\r\n  const createNewColumn = () => dispatch(createColumn());\r\n  \r\n  return (\r\n    // wrapper for droppable element ref={provided.innerRef}\r\n    <Wrapper ref={ref} >\r\n      {isEmpty ? <Button onHandleClick={createNewColumn} name='Create new list' light top={'40vh'}/> :\r\n        <Droppable droppableId=\"all-columns\" direction=\"horizontal\" type=\"column\">\r\n          {provided => (\r\n            <Container ref={provided.innerRef} {...provided.droppableProps} isOverflow={isOverflow} width={width}>\r\n              <ColumnMap columnOrder={columnOrder} columns={columns} homeIndex={homeIndex}/>\r\n              {provided.placeholder}\r\n            </Container>\r\n          )}\r\n        </Droppable>\r\n      }\r\n      </Wrapper>\r\n  )\r\n}\r\n\r\nexport default Main;\r\n","import React, { useCallback } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport {\r\n\tsetHomeIndex,\r\n\tsetColumnOrder,\r\n\tsetColumn,\r\n\tselectHomeIndex,\r\n\tselectColumnOrder,\r\n\tselectColumns,\r\n} from \"./../../redux/kanbanSlice\";\r\nimport { reorder } from \"./../../utils/reorder\";\r\nimport { DragDropContext } from \"react-beautiful-dnd\";\r\nimport Main from \"./Main\";\r\n\r\n// Component with main drag-n-drop logic\r\nconst MainDragDropContext = () => {\r\n  const dispatch = useDispatch();\r\n\tconst columnOrder = useSelector(selectColumnOrder);\r\n\tconst columns = useSelector(selectColumns);\r\n\tconst homeIndex = useSelector(selectHomeIndex);\r\n\r\n\t// ===== A drag has started. DnD use this responder to block updates to all <Draggable /> and <Droppable /> components during a drag.\r\n\tconst onDragStart = useCallback(\r\n\t\tstart => {\r\n\t\t\t// Setting a start column index into state\r\n\t\t\tconst homeIndex = columnOrder.indexOf(start.source.droppableId);\r\n\t\t\tdispatch(setHomeIndex({ homeIndex }));\r\n\t\t},\r\n\t\t[columnOrder, dispatch]\r\n\t);\r\n\r\n\t// ===== A drag has ended. DnD use this responder to synchronously apply changes that has resulted from the drag.\r\n\tconst onDragEnd = useCallback(\r\n\t\tresult => {\r\n\t\t\t// Nullifying a start column index in state\r\n\t\t\tdispatch(setHomeIndex({ homeIndex: null }));\r\n\r\n\t\t\t// Destination: location (droppableId (column id or 'all-columns) and draggable element index) of where\r\n\t\t\t// the dragging item is now(after dragging). Could be null if the user is currently not dragging over any < Droppable />\r\n\t\t\t// Source: the location (droppableId and index) of where the dragging item has started within a <Droppable />.\r\n\t\t\t// DraggableId: draggable id\r\n\t\t\t// type of dragged element - 'task' or 'columns'\r\n\t\t\tconst { destination, source, draggableId, type } = result;\r\n\r\n\t\t\t// Check - if a Draggable has been moved to the previous position - return, else - move further\r\n\t\t\tif (!destination) return;\r\n\t\t\tif (destination.droppableId === source.droppableIs && destination.index === source.index) return;\r\n\r\n\t\t\t// =====  Columns moving logic starts here ======================================\r\n\t\t\tif (type === \"column\") {\r\n\t\t\t\t// Creating a new column order array\r\n\t\t\t\tconst newColumnOrder = reorder(source.index, destination.index, draggableId, columnOrder)[0];\r\n\t\t\t\t// Setting new columnOrder into state\r\n\t\t\t\tdispatch(setColumnOrder(newColumnOrder));\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Source and destination droppable colums objects\r\n\t\t\tconst start = columns[source.droppableId];\r\n\t\t\tconst finish = columns[destination.droppableId];\r\n\r\n\t\t\t// =====  Tasks moving within same column logic starts here ======================================\r\n\t\t\tif (start === finish) {\r\n\t\t\t\t// Creating a new taskIds array\r\n\t\t\t\tconst newTaskIds = reorder(source.index, destination.index, draggableId, start.taskIds)[0];\r\n\t\t\t\t// dispatch column id and taskIds\r\n\t\t\t\tdispatch(setColumn({ [start.id]: newTaskIds }));\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// =====  Tasks moving from one column to another logic starts here ======================================\r\n\t\t\t// Creating a new taskIds arrays\r\n\t\t\tconst [startTasksIds, finishTaskIds] = reorder(\r\n\t\t\t\tsource.index, destination.index,\r\n\t\t\t\tdraggableId,\r\n\t\t\t\tstart.taskIds,\r\n\t\t\t\tfinish.taskIds\r\n\t\t\t);\r\n\r\n\t\t\t// dispatch column id and taskIds\r\n\t\t\tdispatch(setColumn({ [start.id]: startTasksIds }));\r\n\t\t\tdispatch(setColumn({ [finish.id]: finishTaskIds }));\r\n\t\t},\r\n\t\t// dependencies\r\n\t\t[columnOrder, columns, dispatch]\r\n  );\r\n\r\n  return (\r\n\t\t\t// DragDropContext - context area for DnD actions\r\n\t\t\t<DragDropContext onDragStart={onDragStart} onDragEnd={onDragEnd}>\r\n\t\t\t\t<Main columnOrder={columnOrder} columns={columns} homeIndex={homeIndex} />\r\n\t\t\t</DragDropContext>\r\n  )\r\n}\r\n\r\nexport default MainDragDropContext;\r\n","import React from 'react';\r\nimport { useSelector } from \"react-redux\";\r\nimport { selectColumnOrder,\tselectColumns } from \"./../../redux/kanbanSlice\";\r\nimport styled from 'styled-components';\r\nimport { useWindowSize } from './../../utils/useWindowSize';\r\n\r\n// styling\r\nconst Container = styled.footer`\r\n  height: 55px;\r\n  background: #0067A3;\r\n  padding: 10px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: ${props => props.width > 700 ? 'space-between' : 'center'};\r\n  max-width: 100%;\r\n`;\r\nconst InfoWrapper = styled.div`\r\n  padding: 5px;\r\n`;\r\nconst Info = styled.div`\r\n  font-size: 1.2rem;\r\n  display: inline-block;\r\n  color: #FFFFFF;\r\n  margin: 0 10px;\r\n  text-align: center;\r\n`;\r\n\r\n// заглушка =====\r\nconst userName = 'NAME'; \r\nconst date = new Date().toISOString().split('T')[0].replace(/-/g, '.');\r\n\r\nconst Footer = () => {\r\n  const width = useWindowSize()[0];\r\n\r\n  const columnOrder = useSelector(selectColumnOrder);\r\n  const columns = useSelector(selectColumns);\r\n  const activeCount = columnOrder.length === 0 ? 0 : columns[columnOrder[0]].taskIds.length;\r\n  const finishedCount = columnOrder.length === 0 ? 0 : columns[columnOrder[columnOrder.length - 1]].taskIds.length;\r\n\r\n  return (\r\n    <Container width={width}>\r\n      <InfoWrapper>\r\n        <Info>Active tasks:  {activeCount}</Info>\r\n        <Info>Finished tasks:  {finishedCount}</Info>\r\n      </InfoWrapper>\r\n      {width > 700 &&\r\n        <InfoWrapper>\r\n          <Info>Kanban board by:  {userName}</Info>\r\n          <Info>{date}</Info>\r\n        </InfoWrapper>\r\n      }\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Footer;\r\n","const px2vw = (size, width = 1440) => `${(size / width) * 100}vw`;\r\n\r\nexport default px2vw;\r\n","import px2vw from \"./px2vw\";\r\n\r\nimport { createGlobalStyle } from \"styled-components\";\r\n\r\nconst Global = createGlobalStyle`\r\n*, body {\r\n  margin: 0;\r\n  padding: 0;\r\n  box-sizing: border-box;\r\n  font-family: 'Roboto', sans-serif;\r\n  font-weight: 400;\r\n  \r\n  &::-webkit-scrollbar {\r\n    height: 9px;\r\n    width: 9px;\r\n    }\r\n  &::-webkit-scrollbar-track {\r\n    border-radius: 6px;\r\n    background-color: rgb(14, 43, 38, 0.4);\r\n  }\r\n  &::-webkit-scrollbar-thumb {\r\n    border-radius: 6px;\r\n    background-color: rgba(255, 254, 214, 0.6);\r\n  }\r\n}\r\n \r\n:root {\r\n    font-size: ${px2vw(48)};\r\n\r\n    @media (min-width: 400px) {\r\n      font-size: ${px2vw(40)};\r\n    }\r\n\r\n    @media (min-width: 500px) {\r\n      font-size: ${px2vw(34)};\r\n    }\r\n\r\n    @media (min-width: 600px) {\r\n      font-size: ${px2vw(28)};\r\n    }\r\n\r\n    @media (min-width: 700px) {\r\n      font-size: ${px2vw(24)};\r\n    }\r\n\r\n    @media (min-width: 800px) {\r\n      font-size: ${px2vw(22)};\r\n    }\r\n\r\n    @media (min-width: 900px) {\r\n      font-size: ${px2vw(20)};\r\n    }\r\n\r\n    @media (min-width: 1000px) {\r\n      font-size: ${px2vw(18)};\r\n    }\r\n\r\n    @media (min-width: 1200px) {\r\n      font-size: ${px2vw(16)};\r\n    }\r\n\r\n    @media (min-width: 1400px) {\r\n      font-size: ${px2vw(14)};\r\n    }\r\n\r\n    @media (min-width: 1600px) {\r\n      font-size: ${px2vw(12)};\r\n    }\r\n} \r\n\r\ninput {\r\n  outline: thin;\r\n}\r\n`;\r\n\r\nexport default Global;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n// import { Route, Switch, withRouter } from \"react-router-dom\";\r\nimport Header from \"./Components/Header/Header\";\r\nimport MainDragDropContext from \"./Components/Main/MainDragDropContext\";\r\nimport Footer from \"./Components/Footer/Footer\";\r\nimport Global from \"./styles/global\";\r\n// import EditorContainer from \"./Components/Editor/EditorContainer\";\r\nimport { useWindowSize } from \"./utils/useWindowSize\";\r\n\r\nconst Wrapper = styled.div`\r\n\theight: 100vh;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tjustify-content: space-between;\r\n`;\r\n\r\nconst App = () => {\r\n\tconst width = useWindowSize()[0];\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Global />\r\n\t\t\t<Wrapper>\r\n\t\t\t\t<Header />\r\n\t\t\t\t<MainDragDropContext />\r\n\t\t\t\t{width > 480 && <Footer />}\r\n\t\t\t</Wrapper>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default App;\r\n","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport throttle from \"lodash/throttle\";\r\nimport kanbanReducer from \"./kanbanSlice\";\r\nimport { loadState, saveState } from \"./../utils/localStorage\";\r\n\r\n// get state from localStorage\r\nconst persistedState = loadState();\r\n\r\nexport const store = configureStore({\r\n\treducer: {\r\n\t\tkanban: kanbanReducer,\r\n\t},\r\n\tpreloadedState: persistedState,\r\n});\r\n\r\n// subscribes for setting state into localStorage\r\nstore.subscribe(\r\n\tthrottle(() => {\r\n\t\tsaveState(store.getState());\r\n\t}),\r\n\t1000\r\n);\r\n","// get state from localStorage\r\nexport const loadState = () => {\r\n\ttry {\r\n\t\tconst serializedState = localStorage.getItem(\"state\");\r\n\t\tif (serializedState === null) {\r\n\t\t\treturn undefined;\r\n\t\t}\r\n\t\treturn JSON.parse(serializedState);\r\n\t} catch (err) {\r\n\t\treturn undefined;\r\n\t}\r\n};\r\n\r\n// set state in localStorage\r\nexport const saveState = state => {\r\n\ttry {\r\n\t\tconst serializedState = JSON.stringify(state);\r\n\t\tlocalStorage.setItem(\"state\", serializedState);\r\n\t} catch (error) {\r\n\t\t// console.log(error);\r\n\t}\r\n};\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport { store } from \"./redux/store\";\r\nimport { Provider } from \"react-redux\";\r\n// import { BrowserRouter } from \"react-router-dom\";\r\n\r\nReactDOM.render(\r\n\t<React.StrictMode>\r\n\t\t{/* <BrowserRouter> */}\r\n\t\t<Provider store={store}>\r\n\t\t\t<App />\r\n\t\t</Provider>\r\n\t\t{/* </BrowserRouter> */}\r\n\t</React.StrictMode>,\r\n\tdocument.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}